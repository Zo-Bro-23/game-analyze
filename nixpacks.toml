[phases.setup]
nixPkgs = ['python311', 'ffmpeg', 'curl']

[phases.install]
cmds = [
    'python -m pip install --upgrade pip setuptools wheel',
    'pip install flask==3.0.0 flask-cors==4.0.0 opencv-python==4.8.1.78 numpy==1.26.2 werkzeug==3.0.1 gunicorn==21.2.0',
    'chmod +x install_mediapipe.sh && ./install_mediapipe.sh || pip install mediapipe'
]

[variables]
QT_QPA_PLATFORM = 'offscreen'

